import{r as e,a as s,R as t}from"./react-vendor-CqEpiFl-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var i={exports:{}},a={},r=e,n=Symbol.for("react.element"),d=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function m(e,s,t){var i,a={},r=null,d=null;for(i in void 0!==t&&(r=""+t),void 0!==s.key&&(r=""+s.key),void 0!==s.ref&&(d=s.ref),s)o.call(s,i)&&!l.hasOwnProperty(i)&&(a[i]=s[i]);if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:r,ref:d,props:a,_owner:c.current}}a.Fragment=d,a.jsx=m,a.jsxs=m,i.exports=a;var p,f=i.exports,u=s;p=u.createRoot,u.hydrateRoot;const g=({onReset:e,moves:s,timeElapsed:t})=>f.jsxs("header",{className:"header","data-testid":"game-header",children:[f.jsx("h1",{children:"Memory Card Game"}),f.jsxs("div",{className:"header-controls",children:[f.jsxs("span",{className:"moves","data-testid":"moves-counter",children:["Moves: ",s]}),f.jsxs("span",{className:"moves","data-testid":"time-counter",children:["Time: ",t]}),f.jsx("button",{className:"reset-button","data-testid":"reset-button",onClick:e,children:"Reset Game"})]})]}),h=({id:e,image:s,isFlipped:t,isMatched:i,onClick:a})=>f.jsx("div",{"data-testid":`card-${e}`,className:`card ${t?"flipped":""} ${i?"matched":""}`,onClick:a,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),a())},role:"button",tabIndex:t?-1:0,"aria-label":`Card ${e}`,"aria-disabled":i,children:f.jsxs("div",{className:"card-flipper",children:[f.jsx("div",{className:"card-flipper_front",children:f.jsx("img",{src:s,alt:`Card ${e}`,width:200,height:200,loading:"lazy",decoding:"async"})}),f.jsx("div",{className:"card-flipper_back",children:f.jsx("div",{className:"card-back-content"})})]})}),v=({cards:e,onCardFlip:s})=>f.jsx("div",{className:"card-grid","data-testid":"card-grid",children:e.map((e=>f.jsx(h,{id:e.id,image:e.image,isFlipped:e.isFlipped,isMatched:e.isMatched,onClick:()=>s(e.id)},e.id)))}),j=({moves:e,timeElapsed:s,onPlayAgain:t})=>f.jsxs("div",{className:"success-modal","data-testid":"game-complete-message",children:[f.jsx("h2",{children:"Congratulations!"}),f.jsxs("p",{children:["You completed the game in ",e," moves."]}),f.jsxs("p",{children:["Time: ",s]}),f.jsx("button",{onClick:t,"data-testid":"play-again-button",children:"Play Again"})]}),y=e=>{let s;const t=new Set,i=(e,i)=>{const a="function"==typeof e?e(s):e;if(!Object.is(a,s)){const e=s;s=(null!=i?i:"object"!=typeof a||null===a)?a:Object.assign({},s,a),t.forEach((t=>t(s,e)))}},a=()=>s,r={setState:i,getState:a,getInitialState:()=>n,subscribe:e=>(t.add(e),()=>t.delete(e))},n=s=e(i,a,r);return r},x=e=>e;const b=e=>{const s=(e=>e?y(e):y)(e),i=e=>function(e,s=x){const i=t.useSyncExternalStore(e.subscribe,(()=>s(e.getState())),(()=>s(e.getInitialState())));return t.useDebugValue(i),i}(s,e);return Object.assign(i,s),i},C=["/front-end-assessment/assets/img-Asset%201-80-WMkOQYzQ.jpg","/front-end-assessment/assets/img-Asset%202-80-BWcRG82S.jpg","/front-end-assessment/assets/img-Asset%203-80-BRYlyKGt.jpg","/front-end-assessment/assets/img-Asset%204-80-C1nUc3s1.jpg","/front-end-assessment/assets/img-Asset%205-80-B-n6nzL6.jpg","/front-end-assessment/assets/img-Asset%206-80-Bm9rT2Kx.jpg"],E=(e,s,t)=>{s&&(window.clearInterval(s),t(void 0),e({isTimerRunning:!1}))},I=(N=(e,s)=>{let t,i=0;const a=e=>{t=e};return{cards:[],flippedCardsID:[],moves:0,isGameComplete:!1,isProcessing:!1,timeElapsed:"0:00",isTimerRunning:!1,initializeGame:()=>{E(e,t,a),i=0;const s=[];C.forEach(((e,t)=>{s.push({id:s.length,pairId:t,image:e,isFlipped:!1,isMatched:!1}),s.push({id:s.length,pairId:t,image:e,isFlipped:!1,isMatched:!1})}));const r=[...s].sort((()=>Math.random()-.5));e({cards:r,flippedCardsID:[],moves:0,isGameComplete:!1,isProcessing:!1,timeElapsed:"0:00",isTimerRunning:!1})},resetGame:()=>{s().initializeGame()},flipCard:r=>{const{cards:n,flippedCardsID:d,moves:o,isProcessing:c,isTimerRunning:l}=s();l||((e,s,t,i)=>{e().isTimerRunning||(s({isTimerRunning:!0}),t(window.setInterval((()=>{var e;s({timeElapsed:(e=i+=1,`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`)})}),1e3)))})(s,e,a,i);const m=n.find((e=>e.id===r));if(!m)return;if(!((e,s,t)=>!(t||e.isFlipped||e.isMatched||s.length>=2))(m,d,c))return;const p=n.map((e=>e.id===r?{...e,isFlipped:!0}:e)),f=[...d,r];if(e({cards:p,flippedCardsID:f}),2===f.length){e({moves:o+1,isProcessing:!0});const[s,i]=f,r=n.find((e=>e.id===s)),d=n.find((e=>e.id===i));if(!r||!d)return void e({isProcessing:!1});r.pairId===d.pairId?((e,s,t,i,a,r)=>{setTimeout((()=>{const n=e.map((e=>e.id===s||e.id===t?{...e,isMatched:!0,isFlipped:!0}:e));i({cards:n,flippedCardsID:[],isProcessing:!1}),n.every((e=>e.isMatched))&&(E(i,a,r),i({isGameComplete:!0}))}),500)})(n,s,i,e,t,a):((e,s,t,i)=>{setTimeout((()=>{const a=e.map((e=>e.id===s||e.id===t?{...e,isFlipped:!1}:e));i({cards:a,flippedCardsID:[],isProcessing:!1})}),1e3)})(n,s,i,e)}}}})?b(N):b;var N;function R(){const{cards:s,moves:t,resetGame:i,isGameComplete:a,flipCard:r,initializeGame:n,timeElapsed:d}=I();return e.useEffect((()=>{n()}),[n]),f.jsxs("div",{className:"app","data-testid":"memory-game-app",children:[f.jsx(g,{onReset:i,moves:t,timeElapsed:d}),f.jsxs("main",{children:[f.jsx(v,{cards:s,onCardFlip:r}),a&&f.jsx(j,{moves:t,timeElapsed:d,onPlayAgain:i})]})]})}p(document.getElementById("root")).render(f.jsx(e.StrictMode,{children:f.jsx(R,{})}));
